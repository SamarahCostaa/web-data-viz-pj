<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/tela-dashboard.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="./js/validar-dash.js"></script>
    <script src="./js/dashboard.js"></script>
    
</head>
<body onload="validarDash()">
    <div class="header">
        <div class="container">
            <div class="frase" id="div_bemvindo">Bem-vinda <span id="nome_usuario"></span>!</div>
            <div class="imagem-perfil">
                
                    <img id="img_imagem" class="perfil-editado">
                
            </div>
            <div class="navbar">
                <ul>
                   <li><a href="./perfil.html" class="borda menu-item">Meu Perfil</a></li>        
                   <li><a href="./dorama.html" class="borda menu-item">Doramas</a></li>        
                   <li><a href="./enquetes.html" class="borda menu-item">Enquetes</a></li>        
                   <li><a href="./dashboard.html" class="menu-selecionado">Análise</a></li>        
                   <li><a href="./login.html" class="borda menu-item">Sair</a></li>        
                </ul>   
            </div>
        </div>
    </div> 

    <div class="corpo">
        <div class="grafico-1 ">
            <div class="area-grafico">
                <div class="titulo">Categorias mais assistidas  :</div>
                <!-- <canvas id="myChart2"></canvas> -->
            </div>
        </div>
        <div class="grafico-1">
            <div class="area-grafico">
                <div class="titulo">Faxa etária dos dorameiros(as):</div>
                <canvas id="myChart" style="position: relative; height:40vh; width:40vw"></canvas>
            </div>
        </div>
    </div>

    <script>
        de0_a12();
        function atualizarGrafico(){
        const labels = ['Idades']
        const data = {
            labels: labels,
            datasets: [{
                label: '0 á 15',
                backgroundColor: 'rgb(0, 203, 219)',
                borderColor: 'rgb(2,0,127)',
                data: [`${idade0_12}`], /*dados inseridos no grafico*/
                borderWidth: 1
            },
            {
                label: '18 á 25',
                backgroundColor: 'rgb(255, 255, 153)',
                borderColor: 'rgb(204, 204, 0)',
                data: [30], /*dados inseridos no grafico*/
                borderWidth: 1
            },
            {
                label: 'Maior que 25',
                backgroundColor: 'rgb(248, 196, 181)',
                borderColor: 'rgb(200, 0, 127)',
                data: [25], /*dados inseridos no grafico*/
                borderWidth: 1
            }
        
        ]
        };
        const config = {
            type: 'bar',
            data: data,
            options: {
                indexAxis: 'y',
    elements: {
      bar: {
        borderWidth: 2,
      }
    },
            }
        };


        // Segundo gráfico
        const labels2 = ['Categoria'];
        const data2 = {
    labels: labels2,
    datasets: [
        {
            label: 'Romance',
            backgroundColor: 'rgb(248, 196, 181)',
            borderColor: 'rgb(200, 0, 127)',
            data: [40], /*dados inseridos no grafico*/
            borderWidth: 1
        },
        {
            label: 'Suspense',
            backgroundColor: 'rgb(255, 255, 153)',
            borderColor: 'rgb(204, 204, 0)',
            data: [33], 
            borderWidth: 1
        },
        {
            label: 'Ação',
            backgroundColor: 'rgb(0, 203, 219)',
            borderColor: 'rgb(2, 0, 127)',
            data: [10], 
            borderWidth: 1
        },
        {
            label: 'Sobrevivencia',
            backgroundColor: 'rgb(150, 203, 0)',
            borderColor: 'rgb(33, 100, 0)',
            data: [30],
            borderWidth: 1
        }
    ]
};

        const config2 = {
            type: 'bar',
            data: data2,
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    }
                }
            }
        };

        

        const myChart = new Chart(
            document.getElementById('myChart'),
            config
        );

        const myChart2 = new Chart(
            document.getElementById('myChart2'),
            config2
        );
    }
    atualizarGrafico();

    console.log(idade0_12)
    </script>
</body>
</html>
